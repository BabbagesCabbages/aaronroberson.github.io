<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Day 11 - HTTPS and Stripe</title>
    <meta name="viewport" content="width=device-width">
    <meta name="description" content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.">
    <link rel='shortcut icon' type='image/x-icon' href='/favicon.ico' />
    <link rel="canonical" href="http://aaronroberson.github.io/geekwise/day-11-https-and-stripe/">

    <!-- Custom CSS -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/assets/styles/aaronroberson.css">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="//oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="//oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>


    <body>

    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Pixel Polished</a>
        </div>
        <div class="collapse navbar-collapse">
            <ul class="nav navbar-nav">
                <li><a href="/">Home</a></li>
                
                    
                        
                        <li><a href="/about/">About</a></li>
                        
                    
                
                    
                        
                    
                
                    
                        
                    
                
                    
                        
                    
                
                    
                        
                    
                
                    
                        
                    
                
                    
                        
                    
                
                    
                        
                    
                
                    
                        
                    
                
                    
                        
                    
                
                    
                        
                    
                
                    
                
                    
                
                    
                        
                    
                
                    
                
            </ul>
            <ul class="nav navbar-right navbar-nav">
                <li class="dropdown">
                    <a href="/geekwise/" class="dropdown-toggle" data-toggle="dropdown">Geekwise <span class="caret"></span></a>
                    <ul class="dropdown-menu" role="menu">
                        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
            <li><a href="/geekwise/">Course overview</a></li>
        
    
        
    

    
        
    
        
            <li><a href="/geekwise/day-1-javascript-objects/">Day 1 - JavaScript Objects</a></li>
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    

    
        
    
        
    
        
    
        
            <li><a href="/geekwise/day-2-intro-to-angularjs/">Day 2 - Intro to AngularJS</a></li>
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    

    
        
    
        
    
        
    
        
    
        
            <li><a href="/geekwise/day-3-get-your-swag-on/">Day 3 - Get your swagger on!</a></li>
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    

    
        
    
        
    
        
    
        
    
        
    
        
            <li><a href="/geekwise/day-4-product-listing/">Day 4 - Product Listing</a></li>
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    

    
        
    
        
    
        
    
        
    
        
    
        
    
        
            <li><a href="/geekwise/day-5-getting-mean/">Day 5 - Getting MEAN</a></li>
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    

    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
            <li><a href="/geekwise/day-6-directives/">Day 6 - Directives</a></li>
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    

    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
            <li><a href="/geekwise/day-7-shopping-cart-part-1/">Day 7 - Shopping Cart Part 1</a></li>
        
    
        
    
        
    
        
    
        
    
        
    
        
    

    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
            <li><a href="/geekwise/day-8-shopping-cart-part-2/">Day 8 - Shopping Cart Part 2</a></li>
        
    
        
    
        
    
        
    
        
    
        
    

                    </ul>
                </li>
            </ul>
        </div><!--/.nav-collapse -->
    </div>
</nav>

    <div class="container">

        <header class="masthead">
    <div class="container">
        <div class="row">
            <div class="col col-sm-12">
                <div class="social">
                    <div class="rounded center icon-share"></div>
                    <div class="share-container rounded">
                        <a class="share-btn tl icon-google-plus" href='https://plus.google.com/+AaronRoberson'></a>
                        <a class="share-btn tr icon-twitter" href='https://twitter.com/aaronroberson'></a>
                        <a class="share-btn bl icon-github" href='https://github.com/aaronroberson'></a>
                        <a class="share-btn br icon-linkedin" href='https://linkedin.com/in/aaronrobes'></a>
                    </div>
                </div>â€‹
                <h1><a href="/">Aaron Roberson</a>
                    <p class="lead text-muted">Thickheaded about thick front-end development</p></h1>
            </div>
        </div>
    </div>
</header>

        <div class="row">
            <div class="col col-sm-9">
    
    <section class="post">
        <h1>Day 11 - HTTPS and Stripe</h1>

<p>In tonight's class you will:</p>

<ul>
    <li>Create a self-signed certificate</li>
    <li>Enable HTTPS on the Swagwise app</li>
    <li>Create a Stripe account</li>
    <li>Add Stripe integration</li>
</ul>

<h2>Creating a self-signed certificate</h2>

<p>Follow the directions at <a href="https://devcenter.heroku.com/articles/ssl-certificate-self" target="_blank">https://devcenter.heroku.com/articles/ssl-certificate-self</a> to create a self-signed certificate.</p>

<div class="alert alert-info">
    <p>For Windows users, try the following for install SSL: <br />
    <a href="http://www.faqforge.com/windows/use-openssl-on-windows/" target="_blank">http://www.faqforge.com/windows/use-openssl-on-windows/</a></p>
</div>

<h2>Enable HTTPS in Express</h2>

<p>Add the 'http' and 'https' modules to the server.js file as dependencies:</p>

<pre>
http         = require('http');
https        = require('https');
</pre>

<p>Include the self-signed key and certificate and configure the credentials:</p>

<pre>
var privateKey   = fs.readFileSync('cert/server.key', 'utf8');
var certificate  = fs.readFileSync('cert/server.crt', 'utf8');
var credentials  = {key: privateKey, cert: certificate};
</pre>

<p>Configurate the 'http' and 'https' servers:</p>

<pre>
var httpServer   = http.createServer(app);
var httpsServer  = https.createServer(credentials, app);
</pre>

<p>Add an SSL port variable and set it to '8443':</p>

<pre>
var sslport = 8443;
</pre>

<p>Start the 'http' and 'https' servers by setting them to listen on their respective ports:</p>

<pre>
httpServer.listen(port);                                          // startup our app at http://localhost:9001
httpsServer.listen(sslport);                                      // startup our HTTPS server on http://localhost:8443 or :443
</pre>

<h2>Stripe Integration</h2>

<p>From the project root, in the terminal install the stripe module:</p>

<pre>
npm install stripe
</pre>

<p>Go to <a href="http://stripe.com" target="_blank">http://stripe.com</a> and sign up for a FREE account.</p>

<p>In the server.js file, add 'stripe' module as a dependency and pass in your merechant key:</p>

<pre>
stripe       = require('stripe')('your_key_here');
</pre>

<p>After the routes definitions, add the following stripe charge:</p>

<pre>
stripe.charges.create({
amount: 400,
currency: "usd",
card: {
    number: '4242424242424242',
    exp_month: 07,
    exp_year: 2015,
    name: 'BB Thorton',
    "brand": "Visa",
    "funding": "credit",
    "country": "US",
    "address_line1": null,
    "address_line2": null,
    "address_city": null,
    "address_state": null,
    "address_zip": null,
    "address_country": null,
    "cvc_check": null,
    "address_line1_check": null,
    "address_zip_check": null,
    "customer": null
}
}, function(err, charge) {
console.log(charge);
});
</pre>

<div class="alert alert-info">
    <p>Remember to commit your changes to Github!</p>
</div>

<!--p><a ui-sref="geek.page({page_id: 10})" class="btn btn-default">Continue to Day 11</a></p-->

<div disqus="'geekwise0111'"></div>

    </section>

    <div id="disqus_thread" class="comments"></div>
</div>

<div class="col col-sm-3">
    <div id="sidebar" class="sidebar">

        <h3>Schedule</h3>
        <ul class="nav nav-list">
            
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
            <li><a href="/geekwise/">Course overview</a></li>
        
    
        
    

    
        
    
        
            <li><a href="/geekwise/day-1-javascript-objects/">Day 1 - JavaScript Objects</a></li>
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    

    
        
    
        
    
        
    
        
            <li><a href="/geekwise/day-2-intro-to-angularjs/">Day 2 - Intro to AngularJS</a></li>
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    

    
        
    
        
    
        
    
        
    
        
            <li><a href="/geekwise/day-3-get-your-swag-on/">Day 3 - Get your swagger on!</a></li>
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    

    
        
    
        
    
        
    
        
    
        
    
        
            <li><a href="/geekwise/day-4-product-listing/">Day 4 - Product Listing</a></li>
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    

    
        
    
        
    
        
    
        
    
        
    
        
    
        
            <li><a href="/geekwise/day-5-getting-mean/">Day 5 - Getting MEAN</a></li>
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    

    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
            <li><a href="/geekwise/day-6-directives/">Day 6 - Directives</a></li>
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    

    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
            <li><a href="/geekwise/day-7-shopping-cart-part-1/">Day 7 - Shopping Cart Part 1</a></li>
        
    
        
    
        
    
        
    
        
    
        
    
        
    

    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
            <li><a href="/geekwise/day-8-shopping-cart-part-2/">Day 8 - Shopping Cart Part 2</a></li>
        
    
        
    
        
    
        
    
        
    
        
    

        </ul>

    </div>
</div>


<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'pixelpolished'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>

        </div>
    </div>

    <footer class="footer">
    <div class="container">
        <span class="text-muted">&copy; 2014 Aaron Roberson. All rights reserved.</span>
        <a class="btn btn-linkedin" href="https://linkedin.com/in/aaronrobes" title="LinkedIn">
            <i class="fa fa-linkedin"></i>
        </a>
        <a class="btn btn-google-plus" href="" title="Google+">
            <i class="fa fa-google-plus"></i>
        </a>
        <a class="btn btn-twitter" href="https://twitter.com/aaronroberson" title="Twitter">
            <i class="fa fa-twitter"></i>
        </a>
        <a class="btn btn-github" href="https://github.com/aaronroberson" title="GitHub">
            <i class="fa fa-github"></i>
        </a>
    </div>
</footer>


    <script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>

    <script type="text/javascript">
        $(document).ready(function(){
            $('#sidebar').affix({
                offset: {
                    top: 180
                }
            });
        });
        window.analytics=window.analytics||[],window.analytics.methods=["identify","group","track","page","pageview","alias","ready","on","once","off","trackLink","trackForm","trackClick","trackSubmit"],window.analytics.factory=function(t){return function(){var a=Array.prototype.slice.call(arguments);return a.unshift(t),window.analytics.push(a),window.analytics}};for(var i=0;i<window.analytics.methods.length;i++){var key=window.analytics.methods[i];window.analytics[key]=window.analytics.factory(key)}window.analytics.load=function(t){if(!document.getElementById("analytics-js")){var a=document.createElement("script");a.type="text/javascript",a.id="analytics-js",a.async=!0,a.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.io/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(a,n)}},window.analytics.SNIPPET_VERSION="2.0.9",
                window.analytics.load("kqe985dobm");
        window.analytics.page();
    </script>
    </body>
</html>